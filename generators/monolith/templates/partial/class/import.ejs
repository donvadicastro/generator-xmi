import {Entity, PrimaryGeneratedColumn, OneToMany, ManyToOne, ObjectID, ObjectIdColumn} from "typeorm";
import {Column} from "typeorm/decorator/columns/Column";
import {OneToOne} from "typeorm/decorator/relations/OneToOne";
import {JoinColumn} from "typeorm/decorator/relations/JoinColumn";
import {ManyToMany} from "typeorm/decorator/relations/ManyToMany";
import {JoinTable} from "typeorm/decorator/relations/JoinTable";
import {PrimaryColumn} from "typeorm/decorator/columns/PrimaryColumn";

import {ComponentBase} from '../<%= entity.getRelativeRoot() %>/base/componentBase';
import {<%= entity.name %>Contract} from '../../contracts/<%= entity.name %>';

<% if(entity.generalizationLinksTo) { %>
    import {<%= entity.generalizationLinksTo.name %>Base} from '../<%= entity.getRelativePath(entity.generalizationLinksTo) %>/components/generated/<%= entity.generalizationLinksTo.name %>.generated';
<% } %>

<% (entity.provided || []).forEach(function (value) { %>
    <% if(value.name) { %>
        import {<%= value.name %>Contract} from '../<%= entity.getRelativePath(value.ref) %>/contracts/<%= value.name %>';

        <% (value.ref.attributes || []).filter(x => x.typeRef).forEach(function (attribute) { %>
            import {<%= attribute.typeRef.name %>Contract} from '../<%= entity.getRelativePath(attribute.typeRef) %>/contracts/<%= attribute.typeRef.name %>';
        <% }) %>
<%}})%>

<% (entity.required || []).forEach(function (value) { %>
    import {<%= value.name %>Contract} from '../<%= entity.getRelativePath(value.ref) %>/contracts/<%= value.name %>';
<%})%>

<%# Inject base interface when instance speciaification is used %>
<% (entity.associationLinks || []).forEach(x => { %>
    import {<%= x.target.typeRef.name %>Contract} from '../<%= entity.getRelativePath(x.target.typeRef) %>/contracts/<%= x.target.typeRef.name %>';
    import {<%= x.target.typeRef.name %>Base} from '../<%= entity.getRelativePath(x.target.typeRef) %>/components/generated/<%= x.target.typeRef.name %>.generated';
<% }) %>

<% (entity.aggregationLinks || []).forEach(x => { %>
    import {<%= x.target.typeRef.name %>Contract} from '../<%= entity.getRelativePath(x.target.typeRef) %>/contracts/<%= x.target.typeRef.name %>';
    import {<%= x.target.typeRef.name %>Base} from '../<%= entity.getRelativePath(x.target.typeRef) %>/components/generated/<%= x.target.typeRef.name %>.generated';
<% }) %>


<%# Inject base class when instance speciaification is used %>
<% if (entity.elementRef) { %>
    import {<%= entity.elementRef.name %>} from '../<%= entity.getRelativePath(entity.elementRef) %>/components/<%= entity.elementRef.name %>';
<%}%>

import {Promise} from 'es6-promise';
