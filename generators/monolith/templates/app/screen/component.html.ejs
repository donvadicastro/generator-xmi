<% const build = (parent, callback) => (parent.children || []).forEach(x => {
    callback({button: true, checkbox: true, table: true, panel: true, combo: true, combobox: true}[x.stereotype] ? x.stereotype : 'default', x);
}) %>

<h3>Form <%= entity.name %></h3>
<form [formGroup]="form">
    <% build(entity, (controlName, childEntity) => { %>
        <%- include(`partial/controls/${controlName}`, {entity: childEntity, build: build}) -%>
    <% }) %>
</form>

<div *ngIf="response">
    <h5>Response</h5>
    {{response | json}}
</div>
